<?xml version="1.0" encoding="utf-8"?>
<registry xmlns:i18n="http://xml.zope.org/namespaces/i18n"
          i18n:domain="senaite.referral">

  <!-- Control Panel (sin cambios) -->
  <records
      interface="senaite.referral.browser.controlpanel.IReferralControlPanel"
      prefix="senaite.referral" />

  <!-- ============ RESOURCES ============ -->

  <!-- CSS existente -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
      prefix="plone.resources/infolabsa-css"
      purge="false">
    <value key="css">
      <element>++plone++senaite.referral.static/infolabsa.css</element>
    </value>
    <value key="deps" />
  </records>

  <!-- ðŸ”¹ NUEVO: JS para detectar/repintar filas OOR -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
      prefix="plone.resources/infolabsa-js"
      purge="false">
    <value key="js">
      <element>++plone++senaite.referral.static/infolabsa.js</element>
    </value>
    <!-- jQuery ya viene del bundle; no declaramos deps -->
    <value key="deps" />
  </records>

  <!-- ============ BUNDLE: SENAITE.CORE ============ -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IBundleRegistry"
      prefix="plone.bundles/senaite.core"
      purge="false">
    <value key="resources" purge="false">
      <!-- mantenemos el CSS existente -->
      <element>infolabsa-css</element>
      <!-- ðŸ”¹ aÃ±adimos el JS al mismo bundle -->
      <element>infolabsa-js</element>
    </value>
    <value key="enabled">True</value>
    <value key="compile">False</value>
  </records>

</registry>
