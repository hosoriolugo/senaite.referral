<?xml version="1.0" encoding="utf-8"?>
<registry xmlns:i18n="http://xml.zope.org/namespaces/i18n"
          i18n:domain="senaite.referral">

  <!-- Control Panel (sin cambios) -->
  <records
      interface="senaite.referral.browser.controlpanel.IReferralControlPanel"
      prefix="senaite.referral" />

  <!-- ============ RECURSO: JS + CSS ============ -->
  <!-- Define un recurso "infolabsa" que incluye ambos ficheros -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
      prefix="plone.resources/infolabsa"
      purge="false">
    <value key="js">
      <element>++plone++senaite.referral.static/infolabsa.js</element>
    </value>
    <value key="css">
      <element>++plone++senaite.referral.static/infolabsa.css</element>
    </value>
    <!-- sin dependencias explícitas -->
    <value key="deps" />
    <!-- opcional, útil en desarrollo -->
    <value key="export">False</value>
    <value key="compile">False</value>
    <value key="enabled">True</value>
    <value key="conditionalcomment"></value>
    <value key="expression"></value>
    <value key="merge_with">None</value>
  </records>

  <!-- ============ AÑADIR A UN BUNDLE CARGADO EN LISTADOS ============ -->
  <!-- Usamos senaite.core.widgets (se carga en Listings y vistas con widgets) -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IBundleRegistry"
      prefix="plone.bundles/senaite.core.widgets"
      purge="false">
    <value key="resources" purge="false">
      <element>infolabsa</element>
    </value>
    <value key="enabled">True</value>
    <value key="compile">False</value>
  </records>

</registry>
