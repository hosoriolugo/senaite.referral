<?xml version="1.0" encoding="utf-8"?>
<registry xmlns:i18n="http://xml.zope.org/namespaces/i18n"
          i18n:domain="senaite.referral">

  <!-- Control Panel (sin cambios) -->
  <records
      interface="senaite.referral.browser.controlpanel.IReferralControlPanel"
      prefix="senaite.referral" />

  <!-- ===== Recurso CSS (igual al que ya tenías) ===== -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
      prefix="plone.resources/infolabsa-css"
      purge="false">
    <value key="css"><element>++plone++senaite.referral.static/infolabsa.css</element></value>
    <value key="deps" />
  </records>

  <!-- ===== Recurso JS (nuevo) ===== -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
      prefix="plone.resources/infolabsa-js"
      purge="false">
    <value key="js"><element>++plone++senaite.referral.static/infolabsa.js</element></value>
    <value key="deps" />
  </records>

  <!-- ===== Bundle widgets: añadir CSS + JS ===== -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IBundleRegistry"
      prefix="plone.bundles/senaite.core.widgets"
      purge="false">
    <value key="resources" purge="false">
      <element>infolabsa-css</element>
      <element>infolabsa-js</element>
    </value>
    <value key="enabled">True</value>
    <value key="compile">False</value>
  </records>

  <!-- ===== Bundle core (plan B / cobertura extra) ===== -->
  <records
      interface="Products.CMFPlone.interfaces.resources.IBundleRegistry"
      prefix="plone.bundles/senaite.core"
      purge="false">
    <value key="resources" purge="false">
      <element>infolabsa-css</element>
      <element>infolabsa-js</element>
    </value>
    <value key="enabled">True</value>
    <value key="compile">False</value>
  </records>

</registry>
