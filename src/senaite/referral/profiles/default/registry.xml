<registry
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="senaite.referral">

  <!-- Tu bloque existente -->
  <records
    interface="senaite.referral.browser.controlpanel.IReferralControlPanel"
    prefix="senaite.referral" />

  <!-- Registro existente: SOLO CSS (lo conservamos) -->
  <records
    interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
    prefix="plone.resources/infolabsa-css"
    purge="False">
    <value key="css" purge="False">
      <element>++plone++senaite.referral.static/infolabsa.css</element>
    </value>
    <value key="js" />
    <value key="dependencies" />
    <value key="export">False</value>
  </records>

  <!-- Recurso combinado CSS+JS para la lógica de pintado -->
  <records
    interface="Products.CMFPlone.interfaces.resources.IResourceRegistry"
    prefix="plone.resources/infolabsa-assets"
    purge="False">
    <value key="css" purge="False">
      <element>++plone++senaite.referral.static/infolabsa.css</element>
    </value>
    <value key="js" purge="False">
      <element>++plone++senaite.referral.static/infolabsa.js</element>
    </value>
    <value key="dependencies" />
    <value key="export">False</value>
  </records>

  <!-- Añadir por nombre al bundle plone-legacy (sin purgar nada existente) -->
  <records
    interface="Products.CMFPlone.interfaces.resourcebundles.IResourceBundles"
    prefix="plone.bundles/plone-legacy"
    purge="False">
    <value key="resources" purge="False">
      <element>infolabsa-css</element>
      <element>infolabsa-assets</element>
    </value>
    <value key="compile">False</value>
  </records>

  <!-- Añadir también al bundle que SENAITE siempre carga -->
  <records
    interface="Products.CMFPlone.interfaces.resourcebundles.IResourceBundles"
    prefix="plone.bundles/senaite.core"
    purge="False">
    <value key="resources" purge="False">
      <element>infolabsa-css</element>
      <element>infolabsa-assets</element>
    </value>
    <value key="compile">False</value>
  </records>

</registry>
